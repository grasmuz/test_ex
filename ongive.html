<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Возврат денег</title>
  <link rel="stylesheet" href="ongive.css">
</head>
<body>
    <body>
        <header class="header">
            <div class="burger-icon" onclick="toggleMenu()">&#9776;</div>
            <a href="index.html" class="logo-link">
              <div class="logo"></div>
            </a>
            <nav class="menu">
              <div class="close-btn" onclick="toggleMenu()">
                &#10006;
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Услуги</span>
                <div class="dropdown-content">
                  <a href="give.html">Взять деньги</a>
                  <a href="ongive.html">Отдать деньги</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Поддержка</span>
                <div class="dropdown-content">
                  <a href="support.html">Написать в поддержку</a>
                  <a href="FAQ.html">FAQ</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Контакты</span>
                <div class="dropdown-content">
                  <a id="openBtn">Связаться</a>
                  <a href="adres.html">Адреса</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Компания</span>
                <div class="dropdown-content">
                  <a href="referal.html">Реферальная система</a>
                  <a href="team.html">Команда</a>
                </div>
              </div>
            </nav>
            <a href="login.html" class="login-btn">Вход</a>
          </header>
          <div class="polosa">
            <h2 style="margin-left: 20px;">Вернуть деньги</h2>
          </div>
  <div class="container">
    <div class="center-box" id="paymentForm">
      <div class="content">
        <h1>Возврат денег</h1>
        <h4>Средства будут переведены МФО "Keke Finance"</h4>
        <input type="text" id="fullName" placeholder="ФИО">
        <input type="text" id="phoneNumber" placeholder="Номер телефона">
        <input type="text" id="cardNumber" placeholder="Номер карты">
        <div class="input-fields">
          <input type="text" id="expiryDate" placeholder="Срок действия (ММ/ГГ)">
          <input type="text" id="cvv" placeholder="CVV код">
        </div>
        <input type="number" id="refundAmount" placeholder="Сумма для возврата">
        <button class="next-btn" onclick="validateAndProceed()">Далее</button>
      </div>
    </div>
    <div class="waiting" id="waitingScreen" style="display: none;">
      <div class="waiting-content">
        <i class="fas fa-spinner fa-spin fa-3x"></i>
        <p id="statusText">Подождите, ваш запрос обрабатывается...</p>
      </div>
    </div>
  
    <div class="center-box success" id="successMessage" style="display: none;">
      <div class="success-content">
        <h2>Спасибо!</h2>
        <p>Деньги успешно возвращены на счет. Долг полностью погашен.</p>
        <p>Подробная информация отправлена на ваш номер телефона.</p>
        <button class="next-btn" onclick="returnToMain()">Погасить еще один кредит</button>
      </div>
    </div>
  </div>
  
  <div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Связаться с нами</h2>
      <p>Для обратной связи, пожалуйста, оставьте свои контактные данные:</p>
      <form class="forma">
        <label for="phone">Номер телефона:</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          placeholder="Введите номер телефона"
        />

        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Введите адрес электронной почты"
        />

        <label for="message">Сообщение:</label>
        <textarea
          id="message"
          name="message"
          placeholder="Введите ваше сообщение"
        ></textarea>

        <button type="submit">Отправить</button>
      </form>
      <h3 style="text-align: center">Мы также в социальных сетях:</h3>
      <ul class="social">
        <li>
          <a href="telegram.html"><i class="fa-brands fa-telegram"></i></a>
        </li>
        <li>
          <a href="whatsapp.html"><i class="fa-brands fa-whatsapp"></i></a>
        </li>
        <li>
          <a href="instagram.html"><i class="fa-brands fa-instagram"></i></a>
        </li>
      </ul>
    </div>
  </div>
<footer>
    <ul class="menu3">
        <li><a href="index.html">Главная</a></li>
        <li><a href="team.html">Команда</a></li>
        <li><a href="referal.html">Реферал</a></li>
        <li><a href="table.html">Задолжники</a></li>
        <li><a href="support.html">Поддержка</a></li>
        <li><a href="!!!!!.html">Смена интерфейса</a></li>
    </ul>
    <ul class="social">
        <li><a href="telegram.html"><i class="fa-brands fa-telegram"></i></a></li>
        <li><a href="whatsapp.html"><i class="fa-brands fa-whatsapp"></i></a></li>
        <li><a href="instagram.html"><i class="fa-brands fa-instagram"></i></a></li>
    </ul>
    <p>©2024 Экзаменационный проект - Kekezaim.kz | Трищ Кирилл ИС-22</p>
</footer>
<script>
function toggleMenu() {
    var menu = document.querySelector('.menu');
    menu.classList.toggle('active');
    if (menu.classList.contains('active')) {
        document.addEventListener('click', closeMenuOutside);
        document.addEventListener('touchstart', closeMenuOutside);
    } else {
        document.removeEventListener('click', closeMenuOutside);
        document.removeEventListener('touchstart', closeMenuOutside);
    }
}

function toggleSubMenu(element) {
    element.querySelector('.dropdown-content').classList.toggle('active');
}

function closeMenuOutside(event) {
    var menu = document.querySelector('.menu');
    if (!menu.contains(event.target) && !event.target.classList.contains('burger-icon')) {
        menu.classList.remove('active');
        document.removeEventListener('click', closeMenuOutside);
        document.removeEventListener('touchstart', closeMenuOutside);
    }
}
</script>
<script src="https://kit.fontawesome.com/09ef455c42.js" crossorigin="anonymous"></script>

  <script>
    function validateAndProceed() {
      var fullName = document.getElementById("fullName").value;
      var phoneNumber = document.getElementById("phoneNumber").value;
      var cardNumber = document.getElementById("cardNumber").value;
      var expiryDate = document.getElementById("expiryDate").value;
      var cvv = document.getElementById("cvv").value;
      var refundAmount = document.getElementById("refundAmount").value;

      if (fullName.trim() === "" || phoneNumber.trim() === "" || cardNumber.trim() === "" || expiryDate.trim() === "" || cvv.trim() === "" || refundAmount.trim() === "") {
        alert("Пожалуйста, заполните все поля.");
        return;
      }

      if (!/^\d{16}$/.test(cardNumber)) {
        alert("Пожалуйста, введите корректный номер карты.");
        return;
      }

      if (!/^\d{3}$/.test(cvv)) {
        alert("Пожалуйста, введите корректный CVV код.");
        return;
      }

      if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
        alert("Пожалуйста, введите корректный срок действия карты в формате ММ/ГГ.");
        return;
      }

      if (isNaN(parseFloat(refundAmount)) || parseFloat(refundAmount) <= 0) {
        alert("Пожалуйста, введите корректную сумму для возврата.");
        return;
      }

      showWaiting();
    }

    function showWaiting() {
      document.getElementById("paymentForm").style.display = "none";
      document.getElementById("waitingScreen").style.display = "flex"; // изменено на "flex"
      setTimeout(showSuccess, 10000);
    }

    function showSuccess() {
      document.getElementById("waitingScreen").style.display = "none";
      document.getElementById("successMessage").style.display = "block"; // изменено на "block"
    }

    function returnToMain() {
      document.getElementById("successMessage").style.display = "none";
      document.getElementById("paymentForm").style.display = "block"; // изменено на "block"
      // Очистка формы
      document.getElementById("fullName").value = "";
      document.getElementById("phoneNumber").value = "";
      document.getElementById("cardNumber").value = "";
      document.getElementById("expiryDate").value = "";
      document.getElementById("cvv").value = "";
      document.getElementById("refundAmount").value = "";
    }
  </script>
</body>
</html>
